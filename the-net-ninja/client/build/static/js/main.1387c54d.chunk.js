(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{60:function(e,n,t){},69:function(e,n,t){"use strict";t.r(n);var r=t(4),c=t(3),a=t.n(c),i=t(52),o=t.n(i),u=(t(60),t(14)),j=t(33);function l(){var e=Object(j.a)(["\n  mutation AddBook($name: String!, $genre: String!, $authorId: String!) {\n    addBook(name: $name, genre: $genre, authorId: $authorId) {\n      id\n      name\n    }\n  }\n"]);return l=function(){return e},e}function d(){var e=Object(j.a)(["\n  {\n    authors {\n      name\n      id\n    }\n  }\n"]);return d=function(){return e},e}function s(){var e=Object(j.a)(["\n  {\n    books {\n      name\n      id\n    }\n  }\n"]);return s=function(){return e},e}var b=Object(u.gql)(s()),h=Object(u.gql)(d()),O=Object(u.gql)(l()),g=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("ul",{id:"book-list",children:function(){var e=Object(u.useQuery)(b),n=e.loading,t=e.error,c=e.data;return n?Object(r.jsx)("p",{children:"Loading..."}):t?Object(r.jsx)("p",{children:"Ops! Something went wrong."}):c.books.map((function(e,n){return Object(r.jsx)("li",{children:e.name},n)}))}()})})},m=t(32),x=t(38),f=t(39),p=function(){var e=Object(c.useState)({name:"",genre:"",authorId:""}),n=Object(f.a)(e,2),t=n[0],a=n[1],i=t.name,o=t.genre,j=t.authorId,l=function(e){a(Object(x.a)(Object(x.a)({},t),{},Object(m.a)({},e.target.name,e.target.value)))},d=Object(u.useMutation)(O),s=Object(f.a)(d,1)[0];return Object(r.jsxs)("form",{id:"add-book",onSubmit:function(e){e.preventDefault();var n=t.name,r=t.genre,c=t.authorId;console.log(t),s({variables:{name:n,genre:r,authorId:c},refetchQueries:[{query:b}]}),a({name:"",genre:"",authorId:""})},children:[Object(r.jsxs)("div",{className:"field",children:[Object(r.jsx)("label",{children:"Book name:"}),Object(r.jsx)("input",{type:"text",name:"name",value:i,onChange:l})]}),Object(r.jsxs)("div",{className:"field",children:[Object(r.jsx)("label",{children:"Genre:"}),Object(r.jsx)("input",{type:"text",name:"genre",value:o,onChange:l})]}),Object(r.jsxs)("div",{className:"field",children:[Object(r.jsx)("label",{children:"Author:"}),Object(r.jsxs)("select",{name:"authorId",value:j,onChange:l,children:[Object(r.jsx)("option",{children:"Select author"}),function(){var e=Object(u.useQuery)(h),n=e.loading,t=e.error,c=e.data;return n?Object(r.jsx)("option",{children:"Loading..."}):t?Object(r.jsx)("p",{children:"Ops! Something went wrong."}):c.authors.map((function(e){return Object(r.jsx)("option",{value:e.id,children:e.name},e.id)}))}()]})]}),Object(r.jsx)("button",{children:"+"})]})},v=new u.ApolloClient({uri:"http://localhost:5000/graphql",cache:new u.InMemoryCache});var I=function(){return Object(r.jsx)(u.ApolloProvider,{client:v,children:Object(r.jsxs)("div",{id:"main",children:[Object(r.jsx)("h1",{children:"Ninja's Reading List"}),Object(r.jsx)(g,{}),Object(r.jsx)(p,{})]})})},S=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,70)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),c(e),a(e),i(e)}))};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(I,{})}),document.getElementById("root")),S()}},[[69,1,2]]]);
//# sourceMappingURL=main.1387c54d.chunk.js.map